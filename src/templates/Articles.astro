---
import { useTranslation, getLanguageFromURL } from "@i18n/utils";
import PageLayout from "@layouts/default.astro";
import PageHeading from "@components/PageHeading.astro";
import TagsList from "@components/TagsList.astro";
import SearchInput from "@components/ArticlesList/SearchInput";
import ArticlesList from "@components/ArticlesList.astro";

const t = useTranslation(Astro);
const pageLang = getLanguageFromURL(Astro.url.pathname);
const canonicalUrl = new URL(Astro.url.pathname, Astro.site);
---

<PageLayout
	lang={pageLang}
	title={t("pageTitle.articles")}
	description={t("pageDescription.articles")}
	canonicalUrl={canonicalUrl.href}
>
	<PageHeading heading={t("pageTitle.articles")} description={t("pageDescription.articles")} />
	<section>
		<SearchInput i18n={{ "input.search": t("input.search") }} client:load />
		<TagsList />
		<ArticlesList />
	</section>
</PageLayout>
